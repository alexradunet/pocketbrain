# =============================================================================
# PocketBrain Configuration
# =============================================================================
# Copy this file to .env and fill in your values
# Adjust these values for your runtime environment
# =============================================================================

# -----------------------------------------------------------------------------
# TAILSCALE
# -----------------------------------------------------------------------------
# Get your auth key from: https://login.tailscale.com/admin/settings/keys
# Create a "Reusable" and "Ephemeral" key if using Tailscale
TS_AUTHKEY=tskey-auth-xxxxxxxxxxxxxxx

# Hostname for the tailscale sidecar node on your tailnet
TS_HOSTNAME=pocketbrain

# Additional tailscale arguments (optional)
# TS_EXTRA_ARGS=--advertise-exit-node --ssh

# -----------------------------------------------------------------------------
# DATA PATH
# -----------------------------------------------------------------------------
# Where to store persistent data on the host
# Default: ./.data (relative to repository root)
DATA_DIR=.data

# -----------------------------------------------------------------------------
# OPENCODE SDK / AI SERVER
# -----------------------------------------------------------------------------
# Leave OPENCODE_SERVER_URL empty to let SDK start/manage a local server.
# Set it if you want to connect to an already-running opencode server.
OPENCODE_SERVER_URL=
OPENCODE_HOSTNAME=127.0.0.1
OPENCODE_PORT=4096

# Model to use (format: provider/model)
# Examples: openai/gpt-4, anthropic/claude-3-opus-20240229
OPENCODE_MODEL=

# Config directory (default: current directory)
# If unset and VAULT_ENABLED=true, defaults to VAULT_PATH/99-system/99-pocketbrain
# OPENCODE_CONFIG_DIR=

# OpenCode profile mode:
# - isolated: PocketBrain uses separate OpenCode state/auth/model profile
# - system: PocketBrain reuses your global OpenCode profile
OPENCODE_PROFILE=isolated

# Isolated OpenCode profile paths for PocketBrain
# Keep these separate from your system-wide OpenCode profile if desired
# XDG_STATE_HOME=.data/opencode-state
# XDG_DATA_HOME=.data/opencode-data
# XDG_CONFIG_HOME=.data/opencode-config-home

# -----------------------------------------------------------------------------
# APPLICATION
# -----------------------------------------------------------------------------
# V1 runtime profile is vault-only (no host/system command execution from chat)
APP_NAME=pocketbrain
LOG_LEVEL=info
HEARTBEAT_INTERVAL_MINUTES=30

# Runtime data directory used by SQLite and auth state
# DATA_DIR=.data

# Security - token for /pair command to whitelist users
WHITELIST_PAIR_TOKEN=

# /pair abuse protection (per WhatsApp JID)
# Block after N failed attempts within a time window
WHATSAPP_PAIR_MAX_FAILURES=5
WHATSAPP_PAIR_FAILURE_WINDOW_MS=300000
WHATSAPP_PAIR_BLOCK_DURATION_MS=900000

# Comma-separated phone numbers to auto-whitelist (digits only or any format with digits)
# Example: WHATSAPP_WHITELIST_NUMBERS=15551234567,+44 7700 900123
WHATSAPP_WHITELIST_NUMBERS=

# Taildrive vault sharing (WebDAV via Tailscale)
TAILDRIVE_ENABLED=false
TAILDRIVE_SHARE_NAME=vault
TAILDRIVE_AUTO_SHARE=true

# -----------------------------------------------------------------------------
# WHATSAPP (Baileys)
# -----------------------------------------------------------------------------
ENABLE_WHATSAPP=false
# WhatsApp auth files are stored in DATA_DIR/whatsapp-auth by default
# WHATSAPP_AUTH_DIR=.data/whatsapp-auth

# -----------------------------------------------------------------------------
# VAULT
# -----------------------------------------------------------------------------
# Vault path defaults to DATA_DIR/vault
VAULT_ENABLED=true
# VAULT_PATH=.data/vault

# Folder mapping used by vault tools and prompts
VAULT_FOLDER_INBOX=inbox
VAULT_FOLDER_DAILY=daily
VAULT_FOLDER_PROJECTS=projects
VAULT_FOLDER_AREAS=areas
VAULT_FOLDER_RESOURCES=resources
VAULT_FOLDER_ARCHIVE=archive

